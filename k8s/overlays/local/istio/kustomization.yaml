apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: istio-local
  annotations:
    config.kubernetes.io/local-config: "true"

namespace: istio-system

resources:
- ../../../base/istio
- gateway.yaml
- destination-rules.yaml
- peer-authentication.yaml
- authorization-policy.yaml
- certificate.yaml
- traffic-management.yaml

patchesStrategicMerge:
- namespace-patch.yaml

commonLabels:
  environment: local
  project: solidity-security
  managed-by: kustomize
  component: service-mesh

commonAnnotations:
  deployment.environment: local
  mesh.type: istio
  observability.tracing: jaeger