apiVersion: v1
kind: ConfigMap
metadata:
  name: harbor-core
  namespace: harbor-local
data:
  app.conf: |
    appname = harbor
    runmode = prod
    enablegzip = true

    [prod]
    httpport = 8080

    [cache]
    adapter = redis
    conn = redis.redis-local.svc.cluster.local:6379
    database = 0
    password =
    maxidle = 100
    maxactive = 1000
    idletimeout = 180s
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: harbor-jobservice
  namespace: harbor-local
data:
  config.yml: |
    protocol: "http"
    port: 8080
    worker_pool:
      workers: 10
      backend: "redis"
      redis_pool:
        redis_url: "redis://redis.redis-local.svc.cluster.local:6379/1"
        namespace: "harbor_job_service_namespace"
        idle_timeout_second: 3600
    job_loggers:
      - name: "STD_OUTPUT"
        level: INFO
    loggers:
      - name: "STD_OUTPUT"
        level: INFO