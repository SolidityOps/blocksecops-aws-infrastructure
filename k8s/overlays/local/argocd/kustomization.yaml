apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ArgoCD Local Development Configuration
namespace: argocd-local

resources:
- namespace.yaml
- ../../../base/argocd/
- externalsecret.yaml

patches:
- path: argocd-configmap-patch.yaml
- path: argocd-rbac-configmap-patch.yaml

# Use specific ArgoCD version for local development
images:
- name: quay.io/argoproj/argocd
  newTag: v2.8.4

# Labels for local environment
labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/component: gitops-controller
    app.kubernetes.io/part-of: solidity-security-platform
    app.kubernetes.io/managed-by: kustomize
    environment: local
    team: platform